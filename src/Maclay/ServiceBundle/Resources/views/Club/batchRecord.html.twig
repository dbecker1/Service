{% extends 'MaclayServiceBundle:Profile:profile.html.twig' %}

{% block pagename %}
    Club Sponsor - Batch Enter Records
{% endblock %}
    
{% block usercontent %}
    <p>{{ error|default("") }} </p>
    <div class="row">
        <div class="col-sm-2 col-sm-offset-1"><label>Date From</label></div>
        <div class="col-sm-3 form-group">{{form_widget(form.dateFrom) }}</div>
        <div class="col-sm-5 error-text">{{ form_errors(form.dateFrom) }}</div>
    </div>
    <div class="row">
        <div class="col-sm-2 col-sm-offset-1"><label>Date To</label></div>
        <div class="col-sm-3 form-group">{{form_widget(form.dateTo) }}</div>
        <div class="col-sm-5 error-text">{{ form_errors(form.dateTo) }}</div>
    </div>
    <div class="row">
        <div class="col-sm-2 col-sm-offset-1">{{form_label(form.activity) }}</div>
        <div class="col-sm-3 form-group">{{form_widget(form.activity) }}</div>
        <div class="col-sm-5 error-text">{{ form_errors(form.activity) }}</div>
    </div>
    <div class="row">
        <div class="col-sm-2 col-sm-offset-1">{{form_label(form.notes) }}</div>
        <div class="col-sm-3 form-group">{{form_widget(form.notes) }}</div>
        <div class="col-sm-5 error-text">{{ form_errors(form.notes) }}</div>
    </div>
    <div class="row">
        <div class="col-sm-2 col-sm-offset-1">{{form_label(form.organization) }}</div>
        <div class="col-sm-3 form-group">{{form_widget(form.organization) }}</div>
        <div class="col-sm-5 error-text">{{ form_errors(form.organization) }}</div>
    </div>
    <div class="row">
        <div class="col-sm-2 col-sm-offset-1">{{form_label(form.supervisor) }}</div>
        <div class="col-sm-3 form-group">{{form_widget(form.supervisor) }}</div>
        <div class="col-sm-5 error-text">{{ form_errors(form.supervisor) }}</div>
    </div>
    <br />
    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <td>Last Name</td>
                <td>First Name</td>
                <td>Number of Hours</td>
            </tr>
        </thead>
        <tbody class="table-striped studentHours">
            {% for student in form.studentHours %}
                <tr>
                    <td>{{ form_widget(student.lastName, {'attr': {'class': 'studentLastName'}}) }}</td>
                    <td>{{form_widget(student.firstName, {'attr': {'class': 'studentFirstName'}})}}</td>
                    <td>{{form_widget(student.numHours)}}{{form_widget(student.studentNumber)}}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
    
{% block endscripts %}
    <script>
        $(document).ready(function(){
            $(".studentLastName").each(function(){
                if ($(this).val() != ""){
                    $(this).parent().append($(this).val());
                    $(this).hide();
                }
            });
            $(".studentFirstName").each(function(){
                if ($(this).val() != ""){
                    $(this).parent().append($(this).val());
                    $(this).hide();
                }
            });
        });
    </script>
{% endblock %}